import React, {Component} from 'react';


import LoginForm from 'components/loginForm';
import { login, getUserSession } from "actions";
import {  browserHistory } from 'react-router'
import {connect} from "react-redux";
import PropTypes from 'prop-types';

class Login extends Component {

    render(){
         if(this.props.isLogin){
             this.context.router.push(`/`)
             return null
         } else{
             return (
                 <div className='page-center-layout'>
                     <LoginForm/>
                 </div>
             )
         }

    }
}
const mapStateToProps = state => {
    return {
        isLogin: state.userSession.isLogin
    }
}

const mapDispatchToProps = {
    login,
    getUserSession
};

Login.contextTypes = {
    router: PropTypes.object.isRequired
}
export default connect(mapStateToProps, mapDispatchToProps)(Login)

